<!DOCTYPE html>
<html>
  <head>
    <base href="$FLUTTER_BASE_HREF" />

    <meta charset="UTF-8" />
    <meta
      content="IE=Edge"
      http-equiv="X-UA-Compatible" />
    <meta
      name="description"
      content="Web app to show a reading list built with Flutter and Notion" />
    <meta
      name="keywords"
      content="flutter web, flutter, notion, reading list, app development, productivity, web app, cross-platform, netlify, cloudflare worker, cloudflare" />
    <meta
      name="author"
      content="Morpa" />

    <!-- iOS meta tags & icons -->
    <meta
      name="apple-mobile-web-app-capable"
      content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black" />
    <meta
      name="apple-mobile-web-app-title"
      content="myreadings" />
    <link
      rel="apple-touch-icon"
      href="icons/Icon-192.png" />

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/png"
      href="favicon.png" />

    <title>My Reading List with Notion and Flutter Web</title>
    <link
      rel="manifest"
      href="manifest.json" />

    <script>
      // The value below is injected by flutter build, do not touch.
      var serviceWorkerVersion = null;
    </script>
    <!-- This script adds the flutter initialization JS code -->
    <script
      src="flutter.js"
      defer></script>
  </head>

  <body>
    <style>
      body {
        background-color: #1a1c1d;
        height: 100vh;
        width: 100vw;
        margin: 0px;
      }

      .main-content {
        height: 100%;
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: opacity 0.4s ease-out;
      }
      /* ===== Loader CSS ðŸ‘‡ =====*/
      img {
        width: 100px;
        height: 100px;
        position: absolute;
      }

      .loader {
        position: relative;
        width: 250px;
        height: 250px;
        border-radius: 50%;
        background: linear-gradient(#f07e6e, #84cdfa, #5ad1cd);
        animation: animate 1.2s linear infinite;
      }

      @keyframes animate {
        0% {
          transform: rotate(0deg);
        }

        100% {
          transform: rotate(360deg);
        }
      }

      .loader span {
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: 60%;
        background: linear-gradient(#f07e6e, #84cdfa, #5ad1cd);
      }

      .loader span:nth-child(1) {
        filter: blur(5px);
      }

      .loader span:nth-child(2) {
        filter: blur(10px);
      }

      .loader span:nth-child(3) {
        filter: blur(25px);
      }

      .loader span:nth-child(4) {
        filter: blur(50px);
      }

      .loader:after {
        content: '';
        position: absolute;
        top: 10px;
        left: 10px;
        right: 10px;
        bottom: 10px;
        background: #1a1c1d;
        border-radius: 50%;
      }
    </style>
    <script>
      function delay(time) {
        return new Promise((resolve) => setTimeout(resolve, time));
      }

      window.addEventListener('load', function (ev) {
        var loaderContent = document.querySelector('#loader-content');

        _flutter.loader.loadEntrypoint({
          serviceWorker: {
            serviceWorkerVersion: serviceWorkerVersion,
          },
          onEntrypointLoaded: function (engineInitializer) {
            engineInitializer.initializeEngine().then(async function (appRunner) {
              loaderContent.style.opacity = '0';
              await delay(400);
              await appRunner.runApp();
            });
          },
        });
      });
    </script>

    <div
      class="main-content"
      id="loader-content">
      <div class="loader">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
      </div>
      <img
        src="assets/books.png"
        alt="My App Logo" />
    </div>
  </body>
</html>
